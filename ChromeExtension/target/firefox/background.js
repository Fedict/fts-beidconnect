function _reply(e,i){i.src="EIDChromeExt.background",i.extensionVersion=chrome.runtime.getManifest().version,chrome.tabs.sendMessage(e,i)}function _fail_with(e,i){var n={};n.correlationId=e.correlationId,n.result=i,_reply(e.tab,n)}function _forward(e){var i=e.tab,n=JSON.parse(JSON.stringify(e));e.pin&&(e.pin="********"),console.log("SEND "+i+": "+JSON.stringify(e)),chrome.runtime.sendNativeMessage(NATIVE_HOST,n,function(n){n?(console.log("RECV "+i+": "+JSON.stringify(n)),_reply(i,n)):(console.log("ERROR "+i+": "+JSON.stringify(chrome.runtime.lastError)),chrome.runtime.lastError.message&&chrome.runtime.lastError.message.indexOf("native messaging host not found")!=-1?_fail_with(e,"timeout"):_fail_with(e,"technical_error"))})}var NATIVE_HOST="be.bosa.eidlink",EXTENSION_ID="pencgnkbgaekikmiahiaakjdgaibiipp";console.log("eIDLink event page activated"),chrome.runtime.onMessage.addListener(function(e,i,n){return i.id!==EXTENSION_ID?void console.log("Ignoring message not originating from our extension"):void(i.tab&&(e.tab=i.tab.id,_forward(e)))});